<!DOCTYPE html>
<html lang="en">
  <head>
    <title> Trash bins in NYC</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    

    <style>
      #man:hover {cursor: wait;}
      #woman2:hover {cursor: wait;}
      #woman1:hover {cursor: wait;}
    </style>


    <!-- import the webpage's javascript files -->
    <script src="https://aframe.io/aframe/dist/aframe-master.min.js"></script>
  
    <script src="https://cdn.jsdelivr.net/gh/c-frame/aframe-extras@7.5.4/dist/aframe-extras.min.js"></script>
    <script src="aframe-extras.js"></script>

 
    <script src="https://unpkg.com/aframe-environment-component@1.3.3/dist/aframe-environment-component.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/aframe-environment-component@1.3.7/dist/aframe-environment-component.min.js"></script>

    <!-- user events -->
    <script src="https://cdn.jsdelivr.net/npm/aframe-event-set-component@5.0.0/dist/aframe-event-set-component.min.js"></script>
  
    <!-- Supersky
       https://aframe.wiki/en/#!pages/environment.md 
    <script src="https://cdn.jsdelivr.net/npm/a-super-sky@1.1.1/super-sky.js"></script>-->

    <script>
      AFRAME.registerComponent('sound-events', {
        init: function () {
          var el = this.el;  // <a-box>
          el.addEventListener('click', function () {
            el.components.sound.playSound();
          });
          el.addEventListener('mouseleave', function () {
            el.components.sound.pauseSound();
          });
        }
      });
      </script>


  </head>
  <body>
    
    <a-scene fog="type: exponential; color: #dddddd; density: 0.008">
      <a-assets>
        <a-asset-item id="trashcan" src="trashbin/scene.gltf"></a-asset-item>
        <a-asset-item id="apt" src="apartment/scene.gltf"></a-asset-item>
        <a-asset-item id="car1" src="car1/scene.gltf"></a-asset-item>
        <a-asset-item id="car2" src="car2/scene.gltf"></a-asset-item>
        <a-asset-item id="woman1" src="woman1/scene.gltf"></a-asset-item>
        <a-asset-item id="man" src="man/scene.gltf"></a-asset-item>
        <a-asset-item id="woman2" src="woman2/scene.gltf"></a-asset-item>
        <a-asset-item id="mouse" src="mouse/scene.gltf"></a-asset-item>

        <audio id="landlord" src="dadsaudio.mp3" preload="auto"></audio>
        <audio id="anju" src="anju.mp4" preload="auto"></audio>
        <audio id="tina" src="tina.mp3" preload="auto"></audio>

      </a-assets>

      <!-- Player. -->
      <a-entity id="rig"
                movement-controls="constrainToNavMesh: true;
                                   controls: checkpoint, gamepad, trackpad, keyboard, nipple;"
                position="-7 0 21">
        <a-entity camera
                  position="0 7 0"
                  look-controls="pointerLockEnabled: true">
        <!-- mouse reticle -->
          <a-cursor></a-cursor>
        </a-entity>
      </a-entity>

      <!-- orbiduration is based on minutes 
       <a-super-sky 
      orbitduration="1"
      groundcolor="#7BC8A4">
      </a-super-sky>-->

  
       
      <a-entity environment="
      preset: poison; 
      lighting: ambient; 
      skyType: atmosphere;
      horizonColor: blue; 
      groundColor: gray;
      ground: noise;
      groundTexture: walkernoise
      dressing: trees;
      dressingColor: black;

      "></a-entity>

      <a-entity light="type: point; intensity: 10.0; position=1 3 -5"></a-entity>

      <a-gltf-model src="#trashcan"
        scale="10 10 10"
        position="0 1 0"
        >
      </a-gltf-model>


      <a-gltf-model src="#trashcan"
        scale="10 10 10"
        position="0 1 5"
        rotation="35 90 20" 
       >
      </a-gltf-model>

      <a-gltf-model src="#trashcan"
        scale="10 10 10"
        position="7 1 3"
        rotation="0 90 0" 
       >
      </a-gltf-model>

      <a-gltf-model src="#trashcan"
        scale="10 10 10"
        position="0 1 -28"
        rotation="35 180 -30" 
       >
      </a-gltf-model>

      <a-gltf-model src="#trashcan"
        scale="10 10 10"
        position="0 1 -26"
        rotation="3 90 0" 
       >
      </a-gltf-model>

      <a-gltf-model src="#trashcan"
        scale="10 10 10"
        position="5 1 -30"
        rotation="0 90 35" 
       >
      </a-gltf-model>

      <a-gltf-model src="#apt"
        scale=".03 .03 .03"
        position="30 1 20"
        >
      </a-gltf-model>

      <a-gltf-model src="#apt"
        scale=".03 .03 .03"
        position="30 1 -15"
        >
      </a-gltf-model>

      <a-gltf-model src="#apt"
        scale=".03 .03 .03"
        position="30 1 -50"
        >
      </a-gltf-model>

      <a-gltf-model src="#car1"
        scale=".4 .4 .4"
        position="2 1 -40"
        >
      </a-gltf-model>

      <a-gltf-model src="#car1"
        scale=".4 .4 .4"
        position="2 1 16">
      </a-gltf-model>

      <a-gltf-model src="#car1"
        scale="1 1 1"
        position="2 1 -15">
      </a-gltf-model>

      <a-gltf-model src="#woman1"
        scale="2 2 2"
        animation-mixer
        position="23 13 25"
        rotation="3 270 0" 
        sound="src: #tina"
        sound-events>
      </a-gltf-model>

      <a-gltf-model src="#man"
        scale="2 2 2"
        animation-mixer
        position="24 3 -3"
        rotation="3 270 0" 
        sound="src: #landlord"
        sound-events>
      </a-gltf-model>


      <a-gltf-model src="#woman2"
        scale="4 4 4"
        animation-mixer
        position="15 1 -36"
        rotation="3 90 0" 
        sound="src: #anju"
        sound-events>
      </a-gltf-model>

      <a-gltf-model src="#mouse"
        scale=".8 .8 .8w"
        animation-mixer
        position="10 3 -32"
        rotation="3 35 0" 
        >
      </a-gltf-model>

    </a-scene>

    </body>
</html>
